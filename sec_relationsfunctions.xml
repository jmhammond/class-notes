<?xml version="1.0" encoding="UTF-8"?>
<section xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="sec_relationsfunctions">
  <title> Relations and Functions </title>

  <subsection> 
    <title>
      Relations <m>\require{cancel}</m> <!-- putting this requirement here to include \cancel in mathjax -->
    </title>
    <definition>
      <statement>
        <p>
          A mathematical <term>relation, <m>\mathrel{R}</m>, between two sets <m>A</m> and <m>B</m></term> is a collection of ordered pairs from the two sets. Expressed symbolically, <m>\mathrel{R} \subseteq A \times B</m>.
        </p>
        <p>
          We call set <m>A</m> the <term>domain</term> and the set <m>B</m> the <term>codomain</term>.
        </p>
        <p>
          If <m>a</m> is related to <m>b</m> we will write <m>a \mathrel{R} b</m> or <m>(a,b) \in \mathrel{R}</m>. If two elements <m>c </m> and <m>d</m> are not related, we write <m>c \cancel{\mathrel{R}} d</m>.
        </p>
      </statement>
    </definition>

    <example xml:id="ex_sib">
      <statement>
        <p>
          If we consider <m>A</m> and <m>B</m> to both be the set of people in your family, and let <m>\mathrel{R}</m> be the relation <q><m>a</m> is a sibling of <m>b</m>.</q> Here's an example of my family in two graphical representations. What are the ordered pairs that make up the relation? 
        </p>
        <p>
        <sbsgroup>
          <sidebyside width="60%">
            <image xml:id="graph-sib">
              <description>Standard Cartesian graph showing my siblings; dot means related</description>
              <latex-image>
                \begin{tikzpicture}[scale=1]
                \draw[thin, gray!50] (0,0) grid (4, 4);
                \draw[thick] (0,4) node[left] {Family Member} -- (0,0) -- (4,0) node[below right] {Family Member};
                \draw (1,0) node[below] { John} (0, 1) node[left] { John};
                \draw (2,0) node[below] { Eric} (0, 2) node[left] { Eric};
                \draw (3,0) node[below] { Sarah} (0, 3) node[left] { Sarah};
                \fill (1,3) circle (.1) (1,2) circle (0.1) (2,3) circle (.1) (2,1) circle (.1) (3,2) circle (.1) (3,1) circle (.1);
                \end{tikzpicture}
              </latex-image>
            </image>
          </sidebyside>
          <sidebyside width="30%">
            <image xml:id="my-family-graph">
              <description>Graph showing lines connect each sibling; line means connected</description>
              <latex-image>
                \begin{tikzpicture}
                \coordinate (A)  at (0,3);
                \node at (A) [below]{Set $A$};
                \coordinate (B)  at (0,2);
                \node at (B) [left]{John};
                \coordinate (C)  at (0,1);
                \node at (C) [left]{Eric};
                \coordinate (D)  at (0,0);
                \node at (D) [left]{Sarah};

                \coordinate (E)  at (2,3);
                \coordinate (F)  at (2,2);
                \coordinate (G)  at (2,1);
                \coordinate (H)  at (2,0);

                \node at (E) [below]{Set $B$};
                \node at (F) [right]{John};
                \node at (G) [right]{Eric};
                \node at (H) [right]{Sarah};
                \draw (B) -- (G) -- (D) -- (F) -- (C) -- (H) -- (B);
                \end{tikzpicture}
              </latex-image>
            </image>
          </sidebyside>
        </sbsgroup>
        </p>
      </statement>
    </example>

    <example xml:id="ex_divides_relation">
      <statement>
        <p>
          Let <m>A</m> and <m>B</m> both be the set of integers from 1 to 10, and define the relation by <m>a \mathrel{R} b</m> means that <m>a</m> evenly divides into <m>b</m>.
        </p>
        <p>
          Here <m>2 \mathrel{R} 4</m> since 2 divides into 4 evenly. Similarly <m>5 \mathrel{R} 5</m> since it divides into itself. <m>6 \cancel{\mathrel{R}} 3</m> since 6 doesn't divide into 3.
        </p>
        <ol>
          <li>
            <p>
              <!-- Draw a graphical representation of the divides relation as we did in the sibling example, listing elements of the two sets and drawing lines from the left set to the right where the line means <m>a</m> divides evenly into <m>b</m>. -->
              Complete the following graph of the relation below, where a point on <m>(x,y)</m> means that <m>x </m> divides evenly into <m>y</m>. 
        <sidebyside width="50%">
          <image xml:id="graph-relation-blank">
            <description>'blank' Cartesian graph to complete</description>
            <latex-image>
              \begin{tikzpicture}[scale=1]
              \draw[thin, gray!50] (0,0) grid (10.5, 10.5);
              \draw[thick] (0,10.5) node[left] {\(y\)} -- (0,0) -- (10.5,0) node[below right] {\(x\)};
              \foreach \x in {1,2,3,4, 5, 6, 7, 8, 9 , 10}
              \draw (\x,0) node[below] { \x} (0, \x) node[left] { \x};
              \foreach \x in {1,2,3,4, 5, 6, 7, 8, 9 , 10}
              \fill(1,\x) circle(.1);
              \end{tikzpicture}
            </latex-image>
          </image>
        </sidebyside>
            </p>
          </li>
          <li> 
            <p>
              Now list all ordered pairs in the relation.
            </p>
          </li>
        </ol>
      </statement>
      <answer>
        <p>
          The complete listing of the relation is:
          <m>
            R= \{(1,1),(1,2),(1,3),(1,4),(1,5),(1,6),(1,7),(1,8),(1,9),(1,10),\\(2,2),(2,4),(2,6),(2,8),(2,10),(3,3),(3,6),(3,9),(4,4),(4,8),\\(5,5),(5,10),(6,6),(7,7),(8,8),(9,9),(10,10)\}
          </m>
        </p>
      </answer>

    </example>

    <example>
      <statement>
        <p>
          The domain and codomain don't have to be the same. For example, let <m>\mathrel{R}</m> be the relation from the set of people in discrete math class to the natural numbers which maps a person to their height in inches. In this example, <m>(\text{John}, 76) \in \mathrel{R}</m>. What ordered pair represents you?
        </p>
      </statement>
    </example>


    <example>
      <statement>
        <p>
          Let <m>\mathrel{R}</m> be the relation from <m>\Z</m> to <m>\Z</m> where we say <m>a \mathrel{R} b</m> if <m>a^2 = b</m>.
          <ol>
            <li>
              List the first few ordered pairs of the relation for <m>a = 0, 1, 2, \dots 5</m>.
            </li>
            <li>
              <p>
                Plot points for the graph of <m>\mathrel{R}</m> for <m>a =-3, -2, -1, 0, 1, 2, 3</m>.
                <sidebyside width="50%">
                  <image xml:id="graph-relation-squares">
                    <description>Cartesian graph plotting squares</description>
                    <latex-image>
                      \begin{tikzpicture}[scale=1]
                      \draw[thin, gray!50] (-3,0) grid (3, 10);
                      \draw[&lt;-&gt;, thick] (0,10) node[left] {\(b\)} -- (0,0) -- (-3.5,0) -- (3.5,0) node[below right] {\(a\)};
                      \foreach \x in {1,2,3,4, 5, 6, 7, 8, 9 }
                      \draw (0, \x) node[left] { \x};
                      \foreach \x in {-3, -2, -1, 0, 1,2,3}
                      \draw (\x,0) node[below] { \x} ;
                      % \fill (1,1) circle(0.1) (2,4) circle(0.1) (3,9) circle(.1);
                      \end{tikzpicture}
                    </latex-image>
                  </image>
                </sidebyside>
              </p>
            </li>
          </ol>
        </p>
      </statement>
    </example>

    <definition>
      <p>
        Let <m>R</m> be a relation between sets <m>A \and B</m>. The <term>inverse relation</term> of <m>R</m> is the relation that assigns to each element <m>b\in B</m> an element <m>a \in A</m>. We denote the inverse by <m>R^{-1}</m>, so that
        <me>a \mathrel{R} b \iff b \mathrel{R^{-1}} a</me>
        for <m>a \in A \and b \in B</m>.
      </p>
    </definition>

    <example xml:id="example-relation-inverses">
      <statement>
        <p>
          For the purposes of this exercise, the universe of discourse for numeric sets is <m>\R</m> and the universe of discourse for <m>R_4</m> and <m>R_5</m> are the set of people. For example, the relation <m>R = \{(x, y) \mid y = 2x + 1\}</m> has the inverse <m>R^{-1} = \{(x, y) \mid y = (x-1)/2\}</m>. Use this form to give inverses of the following relations:
          <ol>
            <li>
              <m>R_1 = \{ (x,y) \mid y = -3x + 2\}</m>
            </li>
            <li>
              <m>R_2= \{ (x,y) \mid y = x^2 + 2\}</m>
            </li>
            <li>
              <m> R_3 = \{(x,y) \mid y \gt 3x - 4\}</m>
            </li>
            <li>
              <m> R_4 = \{(x,y) \mid y \text{ is the parent of } x \}</m>
            </li>
            <li>
              <m> R_5 = \{(x,y) \mid x \text{ is a sibling of } y \}</m>
            </li>
          </ol>
        </p>
      </statement>
    </example>


    <!-- TODO:

0. Relation graphs (points in the plane)
1. Here, I can include relation composition
2. Relation inverses
a. then put it into the function sections  a function is a relation with nice property
b. note that the inverse of a function is always a relation, but not always a function.

    -->

  </subsection>
  <subsection>
    <title>
      Functions
    </title>

    <definition>
      <p>
        A <term>function from the set <m>A</m> to the set <m>B</m></term> is a relation with the property that exactly one element from <m>B</m> is mapped to each element of the set <m>A</m>. 
        <ul>
          <li>We denote this relation by <m>f:A\to B</m></li>
          <li>If <m>b\in B</m> is the unique element assigned to <m>a\in A</m>, we write <m>f(a)=b</m></li>
        </ul>
      </p>
      <p>
        If <m>f(a) = b</m>, we call
        <ul>
          <li><m>b</m> is the <term>image</term> of <m>a</m> under the mapping</li>
          <li><m>a</m> is the <term>preimage</term> of <m>b</m> under the mapping</li>
        </ul>
        and we define the <term>range</term> of the function <m>f</m> to be the set of images of every element in the domain, <m>A</m>, and often write the range by <m>f(A)</m>. Note that the range is a subset of the codomain, <m>f(A)\subseteq B</m>.
      </p>
    </definition>

    <note>
      <p>
        A function has two pieces of information:
        <ol>
          <li> Specification of two sets, the domain and codomain </li>
          <li> A mapping between those two sets </li>
        </ol>
      </p>
      <p>
        In this class, we will be using a variety of ways of describing the domain and codomain of a function, from writing <m>f:A \to B</m> to describing them in words.
      </p>
    </note>

    <example>
      <statement>
        <p>
          Find the domain, codomain, and range of the following functions:
          <ol>
            <li>Let <m>f: \mathbb{Z} \to \mathbb{Z}</m> be defined by <m>f(x)=x^2</m></li>
            <li>Let <m>g: \mathbb{R} \to \mathbb{R}</m> be defined by <m>g(x)=x^2</m></li>
          </ol>
        </p>
      </statement>
    </example>

    <definition>
      <p><!-- TODO: a future revision, use different letters. a and b suggest particular set relationship... oops! -->
        A function <m>f</m> is said to be  <term>injective</term> or <term>one-to-one</term> if and only if <m>f(a) = f(b)</m> means that <m>a = b</m> for all <m>a \text{ and } b</m> in the domain of <m>f</m>. 
        <!-- <me> -->
        <!--   f \text{ is injective means }  \forall a, b ((f(a) = f(b)) \to (a = b)) -->
        <!-- </me> -->
      </p>
    </definition>

    <note>
      <p>
        To determine if a function <m>f: A \to B</m> is injective, we show that if <m>f(x) = f(y)</m> for arbitrary values <m>x, y \in A</m> with <m>x \not= y</m>, we conclude <m>x=y</m>. (A direct proof).
      </p>
      <p>
        To determine if a function <m>f: A \to B</m> is not injective, we find particular elements <m>x, y \in A</m> such that <m>x \not= y</m> but <m>f(x) = f(y)</m> (a counterexample!)
      </p>
    </note>

    <!-- TODO: Next time have finite set examples (with different size sets to illustrate this better --> 
    <example>
      <statement>
        <p>
          Determine if the following functions are injective. If so, prove it. If not, provide a specific counterexample showing that it is not.
          <ol>
            <li>Let <m>f:\mathbb{R} \to \mathbb{R}</m> be defined by <m>f(x) = 2x-1</m>.</li>
            <li>Let <m>g(x) = x^2</m> be the mapping from <m>\mathbb{R} \to \mathbb{R}</m>.</li>
          </ol>
        </p>
      </statement>
    </example>

    <definition>
      <p>
        A function <m>f</m> from <m>A</m> to <m>B</m> is said to be <term>surjective</term> or <term>onto</term> if and only if for every element <m>b \in B</m>, there is an element <m>a \in A</m> such that <m>f(a) = b</m>.
        <!-- <me> -->
        <!--   f \text{ is surjective means } \forall y\in B\,\, \exists x\in A \,\, ( y = f(x) )  -->
        <!-- </me> -->
      </p>
    </definition>

    <!-- TODO: Next time have finite set examples (with different size sets to illustrate this better --> 
    <example>
      <statement>
        <p>
          Determine if the following functions are surjective. If so, prove it. If not, provide a specific counterexample showing that it is not.
          <ol>
            <li>Let <m>f:\mathbb{R} \to \mathbb{R}</m> be defined by <m>f(x) = 2x-1</m>.</li>
            <li>Let <m>g(x) = x^2</m> be the mapping from <m>\mathbb{R} \to \mathbb{R}</m>.</li>
            <li>Let <m>g(x) = x^2</m> be the mapping from <m>\mathbb{Z} \to \mathbb{Z}</m>.</li>
            <li>Let <m>g(x) = x^3</m> be the mapping from <m>\mathbb{Z} \to \mathbb{Z}</m>.</li>
          </ol>
        </p>
      </statement>
    </example>

    <note>
      <p>If a function is onto, the range is exactly the codomain, that is <m>f(A) = B</m></p>
      <p>
        To determine if a function <m>f: A \to B</m> is surjective, we show that given an arbitrary element <m>y \in B</m> we can find an element <m>x\in A</m> such that <m>f(x)=y</m>. (A direct proof).
      </p>
      <p>
        To determine if a function <m>f: A \to B</m> is not surjective, we find a particular element <m>y \in B</m> such that <m>f(x) \not= y</m> for all <m>x\in A</m> (a counterexample!)
      </p>
    </note>

    <definition>
      <p>
        A function <m>f</m> from <m>A</m> to <m>B</m> is said to be a <term>one-to-one correspondance</term> or <term>bijective</term> if it is both injective and surjective.
      </p>
    </definition>

    <example xml:id="example-bijections">
      <statement>
        <p>
          Determine if the following are bijections from <m>\mathbb{R} \to \mathbb{R}</m>:
          <ol>
            <li><m>f(x) = -3x^2 + 7</m></li>
            <li><m>f(x) = x^5 + 1</m></li>
            <li><m>f(x) = 5^x</m></li>
            <li><m>\ds f(x) = \frac{x+1}{x+2}</m></li>
            <li> Which of the functions we've considered so far have been bijections?</li>
          </ol>
        </p>
      </statement>
    </example>

    <definition>
      <p>
        Let <m>f:A \to B</m> be a bijection. The <term>inverse function</term> of <m>f</m> is the unique function that assigns to each element <m>b\in B</m> a unique element <m>a \in A</m> such that <m>f(a) = b</m>. We denote the inverse by <m>f^{-1}</m> so that
        <me>f^{-1} : B \to A \text{ where }  f^{-1}(b) = a \iff f(a) = b</me>
      </p>
    </definition>

    <note>
      <statement>
        <p>
          As we've seen, the inverse of a relation is always a relation, but not always a function. In order for a function to have an inverse <em>function</em>, the function must be bijective.
        </p>
      </statement>
    </note>

    <example>
      <statement>
        <p>
          For the bijection(s) found in <xref ref="example-bijections"/>, find the inverse function.
        </p>
      </statement>
    </example>

    <example>
      <statement>
        <p>
          Restrict the domain and/or codomain so that <m>f(x) = x^2 + 1</m> is invertible. Verify your answer is correct.
        </p>
      </statement>
      <solution>
        <p>
          In order for <m>f</m> to be injective, we can restrict the domain to just the non-negative real numbers: <m>[0, \infty)</m>. In order for <m>f</m> to be surjective, using the codomain to be the interval <m>[0, \infty)</m> works for the chosen domain.
        </p>
        <p>
          Alternatively, if we choose the domain to be <m>\N</m>, then the range is only square numbers, so the codomain would need to be <m>\{0, 1, 4, 9, 16, \dots\}</m>.
        </p>
      </solution>
    </example>

    <!-- <definition> -->
    <!--   <p> -->
    <!--     If <m>f_1:A \to \mathbb{R}</m> and <m>f_2:A \to \mathbb{R}</m>, then for any <m>x\in A</m>: -->
    <!--     <ul> -->
    <!--       <li><m>(f_1 + f_2)(x) = f_1(x) + f_2(x)</m>, and </li> -->
    <!--       <li><m>(f_1 \cdot f_2)(x) = f_1(x) \cdot f_2(x)</m></li> -->
    <!--     </ul> -->
    <!--     which is what you'd expect from high school. -->
    <!--   </p> -->
    <!-- </definition> -->




    <!-- I don't think this added much to the discussion; -->
    <!-- <definition> -->
    <!--   <p> -->
    <!--     Let <m>A</m> and <m>B</m> but subsets of <m>\mathbb{R}</m>, and let <m>x, y \in A</m> with <m>x \lt y</m>. -->
    <!--     <ul> -->
    <!--       <li>A function <m>f: A \to B</m> is called <term>increasing</term> if <m>f(x) \le f(y)</m>, and called <term>strictly increasing</term> if <m>f(x) \lt f(y)</m>. -->
    <!--       </li> -->
    <!--       <li> -->
    <!--         Similarly, a function is called <term>decreasing</term> if <m>f(x) \ge f(y)</m>, and <term> strictly decreasing</term> if <m>f(x) \gt f(y)</m>. -->
    <!--       </li> -->
    <!--     </ul> -->
    <!--   </p> -->
    <!-- </definition> -->

    <!-- first, this is wrong as written; second, it doesn't add much. -->
    <!-- <example> -->
    <!--   <statement> -->
    <!--     <p> -->
    <!--       Prove that a function <m>f: \mathbb{R} \to \mathbb{R}</m> is strictly increasing if <m>f</m> is one-to-one. -->
    <!--     </p> -->
    <!--     <p> -->
    <!--     A similar statement holds for strictly decreasing functions. -->
    <!--   </p> -->
    <!--   </statement> -->
    <!-- </example> -->

    <!-- <example> -->
    <!--   <statement> -->
    <!--     <ol> -->
    <!--       <li> Give an example of a strictly increasing function. </li> -->
    <!--       <li> Give an example of a strictly descreasing function. </li> -->
    
    <!--   </statement> -->
    <!-- </example> -->

    <definition xml:id="def-composition-of-functions">
      <p>
        Let <m>g:A \to B</m> and let <m>f:B \to C</m>. The <term>composition of <m>f</m> and <m>g</m></term>, denoted by <m>f\circ g : A \to C</m> is defined, for all <m>a \in A</m>, by <m>(f \circ g)(a) = f(g(a))</m>.
        <sidebyside width="75%">
          <image xml:id="composition-of-functions">
            <description>Composition of functions</description>
            <latex-image>
              \usetikzlibrary{calc,positioning,shapes.geometric}

              \begin{tikzpicture}
              \tikzset{
              elps/.style 2 args={draw,ellipse,minimum width=#1,minimum height=#2},
              node distance=3cm,
              font=\footnotesize,
              >=latex,
              }
              \node(x)[elps={1cm}{1cm},label={$A$}]{};
              \node(y)[elps={1cm}{1cm},right=of x,label={$B$}]{};
              \node(v)[elps={1cm}{1cm},right=of y,label={$C$}]{};
              \draw[->](x)to node[above right]{$g$}(y);
              \draw[->](y)to node[above right]{$f$}(v);
              \draw[->](x)to[bend left]node[above]{$f \circ g$}(v);
              \end{tikzpicture}
            </latex-image>
          </image>
        </sidebyside>
      </p>
    </definition>



    <!-- meh; this is basic algebra -->
    <example>
      <statement>
        <p>
          Let <m>f(x) = 5x-3</m> and <m>g(x) = 3x^2-5</m>. Find <m>f\circ g</m> and <m>g\circ f</m>
        </p>
      </statement>
      <solution>
        <p>
          This is basic algebra. 
          <m>(f \circ g)(x) = 15x^2 - 28 \and (g \circ f)(x) = 75x^2 - 90x + 22</m>
        </p>
      </solution>
    </example>

    <example>
      <statement>
        <p>
          Suppose <m>f</m> and <m>f\circ g</m> are injective. Does it follow that <m>g</m> is also injective?
        </p>
      </statement>
    </example>

    <note>
      <p>
        Since given a function <m>f: A \to B</m> we define <m>f^{-1}: B \to A</m> by <m>f(a) = b \iff f^{-1}(b) = a</m> for <m>a \in A</m>, <m>b \in B</m>, we have:
        <ul>
          <li>
            <p> for <m>b \in B</m>, we have <me> (f \circ f^{-1})(b) = f(f^{-1}(b)) = f(a) = b \in B </me> </p>
          </li>
          <li>
            <p> and for <m>a \in A</m>, we have <me>(f^{-1} \circ f)(a) = f^{-1}(f(a)) = f^{-1}(b) = a \in A</me> </p>
          </li>
        </ul>
        That is, the inverse <q>undoes</q> a function.
      </p>
    </note>

    <assemblage>
      <title>Computer Corner</title>
      <caption>Computer Corner</caption>
      <p>
        C++ defines functions by specifying both the input parameters (<em>domain</em>) and return type (<em>co-domain</em>).  Here are some function examples:
      </p>      
      <p>
        <sidebyside width="50%">
          <program language="cpp">
            <input>
                int square(int num) {
                    return num*num;
                }
            </input>
          </program>
          <p>
            Here the function is <m>\text{square}: \Z \to \Z</m>.
          </p>
        </sidebyside>
      </p>
      <p>
        Here's another sample that changes the definition of the standard square root function:
      </p>
      <p>
        <sidebyside width="50%">
          <program language="cpp">
            <input>
                #include &lt;math.h&gt;
             
                int mySqrt(int num) {
                    return sqrt(num)
                }

                // this will return things like
                // mySqrt(4) = 2, which you'd expect.
                // but...
                // mySqrt(5) = 2, also.
            </input>
          </program>
          <p>
            This function is <m>\text{mySqrt}: \Z \to \Z</m>. We <em>can</em> input negative numbers, but <c>sqrt()</c> throws an error in that case.
          </p>
        </sidebyside>
      </p>
      <p>
        To get the correct fractional value of the square root of an integer, though, we'd need this:
      </p>
      <p>
        <sidebyside width="50%">
          <program language="cpp">
            <input>
                #include &lt;math.h&gt;

                double mySqrt(int num) {
                    return sqrt(num)
                }

                // Hooray!
                // mySqrt(5) = 2.23607
            </input>
          </program>
          <p>
            This time the function is <m>\text{mySqrt}: \Z \to \Q</m>. The specification of the codomain is essential to make sure we can compute the correct value!
          </p>
        </sidebyside>
      </p>
    </assemblage>

  </subsection>

  <exercises>

    <exercise>
      <statement>
        <p>
          Consider the relation <m>R = \{ (x, y) \mid y = x^2, \text{ for } x=-3, -2, -1, \dots 2, 3\}</m>.
          <ol>
            <li>
              Is <m>R</m> a function?
            </li>
            <li>
              Find <m>R^{-1}</m>.
            </li>
            <li>
              Is <m>R^{-1}</m> a function? Why or why not?
            </li>
          </ol>
        </p>
      </statement>

      <solution>
        <p>
          <ol>
            <li> Yes </li>
            <li> R^{-1} = \{(x, y) \mid y^2 = x, \text{ for } y = -3, -2, -1, \dots 2, 3\} </li>
            <li> No</li>
          </ol>
        </p>
      </solution>

    </exercise>


    <exercise>
      <statement>
        <p>
          <ol>
            <li>
              Is the sibling relation defined in <xref ref="ex_sib"/> a function? Why or why not?
            </li>
            <li>
              Is the divides relation between the sets <m>\{1, 2, 3, \dots, 10\}</m> to itself a function? Why or why not?
            </li>
            <li>
              Is the height relation between the set of people and the set of natural numbers a function? Why or why not?
            </li>
          </ol>
        </p>
      </statement>
      <solution>
        <p>
          <ol>
            <li> No. </li>
            <li> No. For example <m>(2, 2)</m> and <m>(2,4)</m> are the the relation. </li>
            <li> Yes, each person has a unique height (at any given time). </li>
          </ol>
        </p>
      </solution>
    </exercise>
    
    <exercise>
      <statement>
        <p>
          Let <m>\mathrel{R}</m> be the relation between the set <m>A</m> and itself defined by <m>a \mathrel{R} b</m> whenever <m>a \and b</m> are exactly the same object. 
          <ol>
            <li>
              What is the familiar way we normally write this relation?
            </li>
            <li>
              Is this relation a function? If so, what is the algebraic definition?
            </li>
          </ol>
        </p>
      </statement>
      <solution>
        <p>
          <ol>
            <li> We'd normally write <m>a=b</m> if <m>a \mathrel{R} B</m>. </li>
            <li>Yes! Given a set <m>A</m>, we define the function by <m>f: A \to A</m> by <m>f(x)=x</m>.</li>
          </ol>
        </p>
      </solution>
    </exercise>


    <exercise>
      <statement>
        <p>
          Reformulate <xref ref="def-composition-of-functions"/> in order to define composition of two relations.
        </p>
      </statement>
      <solution>
        <p>
          Very little needs changed - I'm simply relabling the variables. We'll explore relations (and their composition) in greater depth in Discrete 2.
        </p>
        <p>
          Let <m>G:A \to B</m> and let <m>R:B \to C</m>. The <term>composition of <m>R</m> and <m>S</m></term>, denoted by <m>R\circ S</m> is defined, for all <m>a \in A</m>, by <m>(R \circ S)(a) = R(S(a))</m>.
          <sidebyside width="75%">
            <image xml:id="composition-of-relations">
              <description>Composition of relations</description>
              <latex-image>
                \usetikzlibrary{calc,positioning,shapes.geometric}

                \begin{tikzpicture}
                \tikzset{
                elps/.style 2 args={draw,ellipse,minimum width=#1,minimum height=#2},
                node distance=3cm,
                font=\footnotesize,
                >=latex,
                }
                \node(x)[elps={1cm}{1cm},label={$A$}]{};
                \node(y)[elps={1cm}{1cm},right=of x,label={$B$}]{};
                \node(v)[elps={1cm}{1cm},right=of y,label={$C$}]{};
                \draw[->](x)to node[above right]{$S$}(y);
                \draw[->](y)to node[above right]{$R$}(v);
                \draw[->](x)to[bend left]node[above]{$R \circ S$}(v);
                \end{tikzpicture}
              </latex-image>
            </image>
          </sidebyside>
        </p>
      </solution>
    </exercise>

    <exercise>
      <statement>
        <p>
          Using the relations defined in <xref ref="example-relation-inverses"/>, find the following compositions: 
          <ol>
            <li>
              <m>R_1 \circ R_2</m>
            </li>
            <li>
              <m>R_2 \circ R_1</m>
            </li>

            <li>
              <m>R_4 \circ R_4</m>
            </li>
            <li>
              <m>R_5 \circ R_4</m>
            </li>
            <li>
              <m>R_4 \circ R_5</m>
            </li>
          </ol>
        </p>
        </statement>
      <solution>
        <p>
          <ol>
            <li>
              <m>R_1 \circ R_2 = \{(x,y) \mid y = -3(x^2 + 2) + 2\} = \{(x,y) \mid y = -3x^2 -4\}</m>
            </li>
            <li>
              <m>R_2 \circ R_1 = \{(x,y) \mid y = (-3x+2)^2 + 2\} = \{(x,y) \mid 9x^2 -6x + 6\}</m>
            </li>

            <li>
              <m>R_4 \circ R_4 = \{(x,y) \mid y \text{ is a grandparent of } x \}</m>
            </li>
            <li>
              <m>R_5 \circ R_4 = \{(x,y) \mid y \text{ is a sibling of a parent of x}\} = \{(x,y) \mid y \text{ is an aunt/uncle of } x \}</m>
            </li>
            <li>
              <m>R_4 \circ R_5 = \{ (x,y) \mid y is the parent of the sibling of x\} = R_4</m>
            </li>
          </ol>
        </p>
      </solution>
    </exercise>


    
    <!-- the following is adapted from https://github.com/oscarlevin/discrete-book -->
    <exercise>
      <statement>
        <p>
        Consider the function <m>f:\{1,2,3,4,5\} \to \{1,2,3,4\}</m> given by the table below:</p>
        <sidebyside>
          <tabular>
            <row bottom="minor">
              <cell right="minor" halign="center"><m>x</m></cell>
              <cell>1</cell>
              <cell>2</cell>
              <cell>3</cell>
              <cell>4</cell>
              <cell>5</cell>
            </row>
            <row>
              <cell right="minor" halign="center"><m>f(x)</m></cell>
              <cell>3</cell>
              <cell>2</cell>
              <cell>4</cell>
              <cell>1</cell>
              <cell>2</cell>
            </row>
          </tabular>
        </sidebyside>
        <p>
          <ol>
            <li>
              <p>
                Is <m>f</m> injective? Explain.
              </p>
            </li>
            <li>
              <p>
                Is <m>f</m> surjective? Explain.
              </p>
            </li>
            <li>
              <p>
                Is <m>f^{-1}</m> a function? Explain.
              </p>
            </li>
          </ol>
        </p>
      </statement>

      <solution>
        <p>
          <ol>
            <li> No, the function is no injective. <m>2 = f(2) = f(5) = 2</m> but clearly <m>2 \not= 5</m> </li>
            <li> Yes, the function is surjective. The codomain is <m>\{1, 2, 3, 4\}</m> and each element of the codomain is mapped (the range equals the codomain) </li>
            
          </ol>
        </p>
      </solution>
    </exercise>

    <!-- the following is adapted from https://github.com/oscarlevin/discrete-book -->
    <exercise>
      <statement>
        <p>
        Consider the function <m>f:\{1,2,3,4\} \to \{1,2,3,4\}</m> given by the graph below.</p>
        <sidebyside width="45%">
          <image xml:id="graph-function-ques">
            <description>Graph of the function f</description>
            <latex-image>
              \begin{tikzpicture}[scale=1]
              \draw[thin, gray!50] (0,0) grid (4.5, 4.5);
              \draw[&lt;-&gt;, thick] (0,4.5) node[left] {\(f(x)\)} -- (0,0) -- (4.5,0) node[below right] {\(x\)};
              \foreach \x in {1,2,3,4}
              \draw (\x,0) node[below] { \x} (0, \x) node[left] { \x};
              \fill (1,3) circle (.1) (2,4) circle (.1) (3,1) circle (.1) (4,3) circle (.1);
              \end{tikzpicture}
            </latex-image>
          </image>
        </sidebyside>
        <p>
          <ol>
            <li>
              <p>
                Is <m>f</m> injective? Explain.
              </p>
            </li>
            <li>
              <p>
                Is <m>f</m> surjective? Explain.
              </p>
            </li>
          </ol>
        </p>
      </statement>
      <solution>
        <p>
          <ol>
            <li> No! <m>f(1) = f(4)</m> and <m>1\ne 4</m> </li>
            <li> Also no, since there is no <m>x</m> for which <m>f(x) = 2</m>.</li>
          </ol>
        </p>
      </solution>

    </exercise>

    <!-- the following comes from https://github.com/oscarlevin/discrete-book -->
    <exercise>
      <statement>
        <p>
          For each function given below, determine whether or not the function is injective and whether or not the function is surjective.
          <ol>
            <li><m>f:\N \to \N</m> given by <m>f(n) = n+4</m>.</li>
            <li><m>f:\Z \to \Z</m> given by <m>f(n) = n+4</m>.</li>
            <li><m>f:\Z \to \Z</m> given by <m>f(n) = 5n - 8</m>.</li>
            <li><m>f:\Z \to \Z</m> given by <m>f(n) = \begin{cases}n/2 \amp  \text{ if } n \text{ is even} \\ (n+1)/2 \amp \text{ if } n \text{ is odd} . \end{cases}
          </m>
            </li>
          </ol>
        </p>
      </statement>
      <solution>
        <p>
          <ol>
            <li><m>f</m> is injective, but not surjective (since 0, for example, is never an output).</li>
            <li><m>f</m> is injective and surjective. Unlike in the previous question, every integers is an output (of the integer 4 less than it).</li>
            <li><m>f</m> is injective, but not surjective (10 is not 8 less than a multiple of 5, for example).</li>
            <li><m>f</m> is not injective, but is surjective. Every integer is an output (of twice itself, for example) but some integers are outputs of more than one input: <m>f(5) = 3 = f(6)</m>.</li>
          </ol>
        </p>
      </solution>
    </exercise>

    <exercise>
      <statement>
        <p>
          Determine whether <m>f:\Z \times \Z \to \Z</m> is surjective if
        </p>
        <ol>
          <li>
            <m>f(m,n) = m + n</m>
          </li>
          <li>
            <m>f(m,n) = m^2 + n^2 </m>
          </li>
          <li>
            <m>f(m,n) = m</m>
          </li>
          <li>
            <m>f(m,n) = m - n</m>
          </li>
        </ol>
      </statement>
      <solution>
        <p>
          <ol>
            <li> Yes, since given any integer <m>c\in \Z</m> we can find two other integers <m>m, n</m> for which <m>f(m,n) = c</m> for example, <m>f(c,0) = c+0 = c</m>. </li>
            <li> No, since <m>-1 \in \Z</m> and there is no integers <m>m, n</m> for which <m>m^2 + n^2 = -1</m>.</li>
            <li> Yes, since every integer <m>m</m> in the codomain is mappsed to via <m>f(m,0) = m</m></li>
            <li> Yes again, this will map to every possible integer.
            For example, <m>f(m,0) = m</m> for any integer <m>m</m> in the codomain.</li>
          </ol>
          It's worth noting while these aren't injective, they can be surjective.
        </p>
      </solution>
    </exercise>

    <!-- the following comes from https://github.com/oscarlevin/discrete-book -->
    <exercise>
      <statement>
        <p>
          Consider the function <m>f:\Z \to \Z</m> given by <m>f(n) = \begin{cases}n+1 \amp  \text{ if }n\text{ is even} \\ n-3 \amp \text{ if }n\text{ is odd} . \end{cases}
        </m>
        <ol>
          <li>
            <p>
              Is <m>f</m> injective? Prove your answer.
            </p>
          </li>
          <li>
            <p>
              Is <m>f</m> surjective? Prove your answer.
            </p>
          </li>
        </ol>
        </p>
      </statement>
      <solution>
        <p>
          <ol>
            <li><p><m>f</m> is injective.</p>

            <proof>
              <p>
                Let <m>x</m> and <m>y</m> be elements of the domain <m>\Z</m>. Assume <m>f(x) = f(y)</m>. If <m>x</m> and <m>y</m> are both even, then <m>f(x) = x+1</m> and <m>f(y) = y+1</m>. Since <m>f(x) = f(y)</m>, we have <m>x + 1 = y + 1</m> which implies that <m>x = y</m>. Similarly, if <m>x</m> and <m>y</m> are both odd, then <m>x - 3 = y-3</m> so again <m>x = y</m>. The only other possibility is that <m>x</m> is even an <m>y</m> is odd (or visa-versa). But then <m>x + 1</m> would be odd and <m>y - 3</m> would be even, so it cannot be that <m>f(x) = f(y)</m>. Therefore if <m>f(x) = f(y)</m> we then have <m>x = y</m>, which proves that <m>f</m> is injective.
              </p>
            </proof>

            </li>
            <li><p><m>f</m> is surjective.</p>

            <proof>
              <p>
                Let <m>y</m> be an element of the codomain <m>\Z</m>. We will show there is an element <m>n</m> of the domain (<m>\Z</m>) such that <m>f(n) = y</m>. There are two cases: First, if <m>y</m> is even, then let <m>n = y+3</m>. Since <m>y</m> is even, <m>n</m> is odd, so <m>f(n) = n-3 = y+3-3 = y</m> as desired. Second, if <m>y</m> is odd, then let <m>n = y-1</m>. Since <m>y</m> is odd, <m>n</m> is even, so <m>f(n) = n+1 = y-1+1 = y</m> as needed. Therefore <m>f</m> is surjective.
              </p>
            </proof>

            </li>
          </ol>
        </p>
      </solution>
    </exercise>

    <exercise>
      <statement>
        <p>
          Give an explicit formula for a function from the set of integers to the set of positive integers that is
        </p>
        <ol>
          <li> injective but not surjective</li>
          <li> surjective but not injective </li>
          <li> injective and surjective </li>
          <li>neither injective nor surjective</li>
        </ol>
      </statement>
      <hint>
        Most likely, your solution will be piecewise-defined. 
      </hint>
      <solution>
        <p>
          <ol>
            <li>
              <m>f(n) = \begin{cases} -2n \amp \text{ if } n\lt0  \\ 2n+3 \amp \text{ if } n\ge0\end{cases}</m>
            </li>
            <li>
              <m>f(n) = \begin{cases} -n \amp \text{ if } n\lt0  \\ n+1 \amp \text{ if } n\ge0\end{cases}</m>
            </li>
            <li>
              <m>f(n) = \begin{cases} -2n \amp \text{ if } n\lt0  \\ 2n+1 \amp \text{ if } n\ge0\end{cases}</m>
            </li>
            <li>
              <m>f(n) = n^2 + 1</m>
            </li>
          </ol>
        </p>
      </solution>
    </exercise>

    <!-- the following comes from https://github.com/oscarlevin/discrete-book -->
    <exercise>
      <statement>
        <p>
          Let <m>A = \{1,2,3,\ldots,10\}</m>. Consider the function <m>f:\pow(A) \to \N</m> given by <m>f(B) = |B|</m>. That is, <m>f</m> takes a subset of <m>A</m> as an input and outputs the cardinality of that set.
          <ol>
            <li>
              <p>
                Is <m>f</m> injective? Prove your answer.
              </p>
            </li>
            <li>
              <p>
                Is <m>f</m> surjective? Prove your answer.
              </p>
            </li>
            <li>
              <p>
                Find <m>f\inv(1)</m>.
              </p>
            </li>
            <li>
              <p>
                Find <m>f\inv(0)</m>.
              </p>
            </li>
            <li>
              <p>
                Find <m>f\inv(12)</m>.
              </p>
            </li>
          </ol>
        </p>
      </statement>
      <solution>
        <p>
          <ol>
            <li><m>f</m> is not injective. To prove this, we must simply find two different elements of the domain which map to the same element of the codomain. Since <m>f(\{1\}) = 1</m> and <m>f(\{2\}) = 1</m>, we see that <m>f</m> is not injective.</li>
            <li><m>f</m> is not surjective. The largest subset of <m>A</m> is <m>A</m> itself, and <m>|A| = 10</m>. So no natural number greater than 10 will ever be an output.</li>
            <li><m>f\inv(1) = \{\{1\}, \{2\}, \{3\}, \ldots \{10\}\}</m> (the set of all the singleton subsets of <m>A</m>).</li>
            <li><m>f\inv(0) = \{\emptyset\}</m>. Note, it would be wrong to write <m>f\inv(0) = \emptyset</m> - that would claim that there is no input which has 0 as an output.</li>
            <li><m>f\inv(12) = \emptyset</m>, since there are no subsets of <m>A</m> with cardinality 12.</li>
          </ol>
        </p>
      </solution>
    </exercise>

    <!-- the following comes from https://github.com/oscarlevin/discrete-book -->
    <exercise>
      <statement>
        <p>
          Let <m>A = \{n \in \N \st 0 \le n \le 999\}</m> be the set of all numbers with three or fewer digits. Define the function <m>f:A \to \N</m> by <m>f(abc) = a+b+c</m>, where <m>a</m>, <m>b</m>, and <m>c</m> are the digits of the number in <m>A</m>. For example, <m>f(253) = 2 + 5 + 3 =  10</m>.
          <ol>
            <li>
              <p>
                Find <m>f\inv(3)</m>.
              </p>
            </li>
            <li>
              <p>
                Find <m>f\inv(28)</m>.
              </p>
            </li>
            <li>
              <p>
                Is <m>f</m> injective. Explain.
              </p>
            </li>
            <li>
              <p>
                Is <m>f</m> surjective. Explain.
              </p>
            </li>
          </ol>
        </p>
      </statement>
      <solution>
        <p>
          <ol>
            <li><m>f\inv(3) = \{003, 030, 300, 012, 021, 102, 201, 120, 210, 111\}</m></li>
            <li><m>f\inv(28) = \emptyset</m> (since the largest sum of three digits is <m>9+9+9 = 27</m>)</li>
            <li>
              <p>
                Part (a) proves that <m>f</m> is not injective. The output 3 is assigned to 10 different inputs.
              </p>
            </li>
            <li>
              <p>
                Part (b) proves that <m>f</m> is not surjective. There is an element of the codomain (28) which is not assigned to any inputs.
              </p>
            </li>
          </ol>
        </p>
      </solution>
    </exercise>


    <!-- the following is adapted from https://github.com/oscarlevin/discrete-book -->
    <exercise>
      <statement>
        <p>
          What can you deduce about the sets <m>X</m> and <m>Y</m> if you know
          <ellipsis/>
          <ol>
            <li>
              <p>
                there is an injective function <m>f:X \to Y</m>? Explain.
              </p>
            </li>
            <li>
              <p>
                there is a surjective function <m>f:X \to Y</m>? Explain.
              </p>
            </li>
            <li>
              <p>
                there is a bijective function <m>f:X \to Y</m>? Explain.
              </p>
            </li>
          </ol>
        </p>
      </statement>

      <solution>
        <p>
          <ol>
            <li><m>|X| \le |Y|</m></li>
            <li><m>|Y| \le |X|</m></li>
            <li><m>|X| = |Y|</m> </li>
          </ol>
        </p>
      </solution>
    </exercise>

    <!-- the following is adapted from https://github.com/oscarlevin/discrete-book -->
    <exercise>
      <statement>
        <p>
          Suppose <m>f:X \to Y</m> is a function. Which of the following are possible? Explain.
          <ol>
            <li><m>f</m> is injective but not surjective.</li>
            <li><m>f</m> is surjective but not injective.</li>
            <li><m>|X| = |Y|</m> and <m>f</m> is injective but not surjective.</li>
            <li><m>|X| = |Y|</m> and <m>f</m> is surjective but not injective.</li>
            <li><m>|X| = |Y|</m>, <m>X</m> and <m>Y</m> are finite, and <m>f</m> is injective but not surjective.</li>
            <li><m>|X| = |Y|</m>, <m>X</m> and <m>Y</m> are finite, and <m>f</m> is surjective but not injective.</li>
          </ol>
        </p>
      </statement>

      <solution>
        <p>
          <ol>
            <li> Yes </li>
            <li> Yes </li>
            <li> Yes </li>
            <li> Yes </li>
            <li> Finally a no!  </li>
            <li> Also a no  </li>
          </ol>
        </p>
      </solution>
    </exercise>


    <!-- the following is adapted from https://github.com/oscarlevin/discrete-book -->
    <exercise>
      <statement>
        <p> How does composition relate to function properties?
        <ol>
          <li>If <m>f</m> and <m>g</m> are both injective, must <m>g\circ f</m> be injective?  Explain.</li>
          <li>If <m>f</m> and <m>g</m> are both surjective, must <m>g\circ f</m> be surjective?  Explain.</li>
          <li>Suppose <m>g\circ f</m> is surjective.  What, if anything, can you say about <m>f</m> and <m>g</m>?  Explain.</li>
        </ol>
        </p>
      </statement>
      <hint>
        <p>
          Work with some examples. 
        </p>
      </hint>
    </exercise>





    <definition>
      <p>
        The <term>floor</term> function assigns to every real number <m>x</m> the largest integer that is less than or equal to <m>x</m>. We denote by this <m>\lfloor x \rfloor</m>
        <me>\lfloor \cdot \rfloor : \mathbb{R}\to \mathbb{Z} \text{ with } (\lfloor x \rfloor = n) \iff (n \le x \lt n + 1)</me>
      </p>
      <p>
        The <term>ceiling</term> function assigns to every real number <m>x</m> the smallest integer that is greater than or equal to <m>x</m>. We denote by this <m>\lceil x \rceil</m>
        <me>\lceil \cdot \rceil : \mathbb{R}\to \mathbb{Z} \text{ with } (\lceil x \rceil = n) \iff (n - 1 \lt x \le n)</me>
      </p>
    </definition>

    <exercise>
      <statement>
        <p>
          Find the floor and ceiling of each of the following real numbers:
          <ol cols="2">
            <li>8.675309</li>
            <li><m>\pi</m></li>
            <li><m>-2.1</m></li>
            <li><m>7</m></li>
          </ol>
        </p>
      </statement>
      <solution>
        <p>
          <ol>
            <li> <m>\lfloor 8.675309 \rfloor = 8</m> and <m>\lceil 8.675309 \rceil = 9 </m> </li>
            <li> <m>\lfloor \pi \rfloor = 3</m> and <m>\lceil \pi \rceil = 4</m> </li>
            <li> <m>\lfloor -2.1 \rfloor = -3</m> and <m>\lceil -2.1 \rceil = -2</m> </li>
            <li> <m>\lfloor 7 \rfloor = \lceil 7 \rceil = 7</m> </li>
          </ol>
        </p>
      </solution>
    </exercise>

    <exercise>
      <statement>
        <p>
          Are the floor or ceiling functions injective? Surjective? If so, prove it. If not, provide specific counterexamples to show why not.
        </p>
      </statement>
      <solution>
        <p>
          I'm providing a solution for the floor function. The ceiling function solution can be done very similarly.
          The floor function is not injective. Consider the two real numbers 2.1 and 2.5:
          <m>\lfloor 2.1\rfloor = \lfloor 2.5\rfloor = 2</m>.
        </p>
        <p>
          The floor function is surjective, however. Let <m>c\in \Z</m> be an integer in the codomain. Then consider <m>a = c+0.1 \in \R</m>, the domain. <m>\lfloor a \rfloor = \lfloor c+0.1 \rfloor = c.</m>
        </p>
      </solution>
    </exercise>

    <!-- <!-\- the following comes from https://github.com/oscarlevin/discrete-book -\-> -->
    <!-- <exercise> -->
    <!--   <statement> -->
    <!--     <p> -->
    <!--       At the end of the semester a teacher assigns letter grades to each of her students. Is this a function? If so, what sets make up the domain and codomain, and is the function injective, surjective, bijective, or neither? -->
    <!--     </p> -->
    <!--   </statement> -->
    <!--   <solution> -->
    <!--     <p> -->
    <!--       Yes, this is a function, if you choose the domain and codomain correctly. The domain will be the set of students, and the codomain will be the set of possible grades. The function is almost certainly not injective, because it is likely that two students will get the same grade. The function might be surjective <ndash/> it will be if there is at least one student who gets each grade. -->
    <!--     </p> -->
   <!--   </solution> -->
    <!-- </exercise> -->

    
  </exercises>

</section>
